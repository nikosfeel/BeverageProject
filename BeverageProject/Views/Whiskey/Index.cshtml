@model PagedList.IPagedList<Entities.Products.Whiskey>
@using PagedList.Mvc;
@using PagedList;

@{
    ViewBag.Title = "Whiskeys";
}



<!--=================== Main Content Container ===================-->
<main class="list-collection-page">
    <!--=================== Breadcrumb Section ===================-->
    <section class="breadcrumb-container paira-padding-bottom-1">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <div class="breadcrumb">
                        <ul class="list-inline">
                            <li><a href="@Url.Action("Index", "Home")" class="raleway-light">Home <i class="fa fa-angle-right"></i></a></li>
                            <li class="raleway-sbold">Whiskeys</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div class="container text-center">
        <div class="row">
            <div class="col-md-12">
                <img alt="" class="paira-margin-bottom-1" src="~/Content/images/hedding.png">
                <h3 class="text-uppercase raleway-light margin-clear paira-margin-bottom-1">products</h3>
            </div>
        </div>
    </div>
    <!--=================== big Banner Section ===================-->
    <section class="big-banner">
        <div class="container">
            <div class="row">
                <div class="col-md-12 col-xs-12 col-sm-12">
                    <img src="~/Theme/OurTemplate/images/banner/banner-1.jpg" class="img-responsive paira-margin-top-1" alt="" />
                    <h1>WHISKEY FOR PARTY</h1>
                </div>
            </div>
        </div>
    </section>
    <!--=================== Latest Product Section ===================-->
    <section class="latest-product text-center paira-margin-bottom-1">
        <div class="container">
            <div class="row">
                <div class="synconis paira-margin-bottom-1">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-4 col-sm-4 col-xs-4 text-center paira-margin-top-1">
                                <div class="form-group margin-clear">
                                    <h4 class="font-size-18 bold-font pull-left">
                                        <label class="text-uppercase">
                                            <b>Sort by:</b>
                                        </label>
                                    </h4>
                                    <select id="sort-dropdown" class="sort-by paira-filter-category">
                                        <option value="nameAsc">Name(A-Z)</option>
                                        <option value="#">Name(Z-A)</option>
                                        <option value="#">Price(↑)</option>
                                        <option value="#">Price(↓)</option>
                                    </select>
                                </div>


                                @*<div class="form-group margin-clear">
                                        <h4 class="font-size-18 bold-font pull-left">
                                            <label class="text-uppercase">
                                                <b>Sort by:</b>
                                            </label>
                                        </h4>
                                       @Html.DropDownListFor(Model.PageCount)
                                    </div>*@




                            </div>
                            <div class="col-md-4 col-sm-4 col-xs-4 paira-margin-top-1 pull-right">
                                <div class="form-group margin-clear pull-right list-grid margin-top-5 float-0">
                                    <h4 class="font-size-18 bold-font pull-left"><label class="text-uppercase"><b>View :</b></label></h4>
                                    <button data-value="list"><i class="fa fa-th-list fa-2x"></i></button>
                                    <button data-value="grid" class="active list" onclick="location.href='@Url.Action("IndexCollection","Whiskey")'"><i class="fa fa-th fa-2x"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 list-view">
                    <div class="product-widget">
                        @foreach (var whiskey in Model)
                        {
                            <div class="col-sm-3 col-md-3 col-xs-6 paira-margin-top-1">
                                <div class="product text-center">
                                    <div class="block-image position-rela">
                                        <a href="@Url.Action("Details","Whiskey",new  {id = whiskey.Id})">
                                            <div class="background-overlay"></div>

                                            <img src=@Html.DisplayFor(modelItem => whiskey.PhotoUrl) alt="" class="img-responsive" width='250' height='250'>
                                        </a>
                                    </div>
                                    <h1 class="font-size-18 margin-bottom-10"><a href="@Url.Action("Details","Whiskey",new  {id = whiskey.Id})">@Html.DisplayFor(modelItem => whiskey.Name)</a></h1>
                                    <span class="money font-size-18"><b class="">@Html.DisplayFor(modelItem => whiskey.Price)€</b></span>
                                    <p class="text-capitalize margin-top-15 letter-spacing-2">
                                        @Html.DisplayFor(modelItem => whiskey.Description)
                                    </p>
                                    <div class="product-hover">
                                        <div class="paira-wish-compare-con wish-compare-view-cart paira-margin-top-4">
                                            <a href=" @Url.Action("Details", "Whiskey", new { id = whiskey.Id })" class="paira-quick-view quick-view  btn color-scheme-2 font-size-18"><i class="fa fa-eye"></i></a>
                                            <a href="@Url.Action("Buy","Cart",new  {id = whiskey.Id})" class="product-cart-con margin-left-5  btn color-scheme-2"><img src="~/Content/images/cart-2.png" alt=""></a>
                                        </div>
                                        <br />
                                        <br />
                                        <br />
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--=================== Panigation List Section ===================-->
    <section class="page-list paira-padding-bottom-1">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <ul class="pagination list-inline">
                        <li class="pull-left raleway-light letter-spacing-2 paira-margin-top-1">Showing : <b>@Model.Count()</b> Of <b>@Model.TotalItemCount</b></li>
                        <li class="pull-right">
                            <ul class="list-inline">
                                <li class="disabled letter-spacing-2 paira-margin-top-1"><span>Preview</span></li>
                                <li class="active"><span>1</span></li>
                                <li><a href="#">2</a></li>
                                <li><a href="#">3</a></li>
                                <li><a href="#">Next</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>



    @*<script>

            const sortByDropDown = $("#sort-dropdown");



        </script>*@


</main>





@section scripts
{
    <script type="text/javascript">



        let sortDropdown = $("#sort-dropdown");
        let sortBy;
        let whiskeyArray = [];
        let whiskeyItems = [];
        let whiskeyVariations = [];
        let whiskeyNames = [];


        $(document).ready(function () {

            let data = {
                "url": "https://localhost:44386/api/whiskeys",
                "method": "GET",
                "timeout": 0,
                "datatype": "json"
            };

            $.ajax(data).done((data) => StartApp(data));

            function StartApp(data) {

                console.log(data);

                whiskeyArray = data.whiskeys.map(x => x.Name);




                sortDropdown.on("input", function () {
                    sortBy = $(this).val();
                    console.log(sortBy);

                })

                sortBy = sortDropdown.val();

                if (sortBy) {
                    switch (sortBy) {
                        case "nameAsc": whiskeyArray.sort((a, b) => a.Name < b.Name ? -1 : 1); break;
                    }
                }



            }

        })

    </script>


}




@Html.PagedListPager(Model, x => Url.Action("Index", "Whiskey", new { page = x }))
